{"version":3,"sources":["webpack:///./src/views/front/Login.vue","webpack:///./src/views/front/Login.vue?8818"],"names":["style","class","for","type","signIn","id","placeholder","user","username","required","autofocus","password","data","methods","api","this","$http","post","then","response","success","token","expired","document","cookie","Date","$router","push","$swal","title","icon","render"],"mappings":"0IAEIA,MAAA,wQ,GAMKC,MAAM,a,GAGFA,MAAM,sB,EACT,eAAiD,MAA7CA,MAAM,+BAA8B,QAAI,G,GACvCA,MAAM,Q,EACT,eAA6D,SAAtDC,IAAI,aAAaD,MAAM,WAAU,iBAAa,G,GAWlDA,MAAM,Q,EACT,eAA2D,SAApDC,IAAI,gBAAgBD,MAAM,WAAU,YAAQ,G,EAcrD,eAOM,OAPDA,MAAM,iBAAe,CACxB,eAKS,UAJPA,MAAM,sEACNE,KAAK,UACN,U,mDA3CX,eAkDM,MAlDN,EAkDM,CA3CJ,eA0CM,MA1CN,EA0CM,CAzCJ,eAwCO,QAxCDF,MAAM,6BAA8B,SAAM,8CAAU,EAAAG,QAAA,EAAAA,OAAA,qBAAM,e,CAE9D,eAqCM,MArCN,EAqCM,CApCJ,EACA,eAWM,MAXN,EAWM,CAVJ,E,eACA,eAQE,SAPAD,KAAK,QACLE,GAAG,aACHJ,MAAM,sDACNK,YAAY,gB,qDACH,EAAAC,KAAKC,SAAQ,IACtBC,SAAA,GACAC,UAAA,I,mBAFS,EAAAH,KAAKC,cAKlB,eAUM,MAVN,EAUM,CATJ,E,eACA,eAOE,SANAL,KAAK,WACLE,GAAG,gBACHJ,MAAM,qD,qDACG,EAAAM,KAAKI,SAAQ,IACtBL,YAAY,WACZG,SAAA,I,mBAFS,EAAAF,KAAKI,cASlB,K,sBAeK,GACbC,KADa,WAEX,MAAO,CACLL,KAAM,CACJC,SAAU,GACVG,SAAU,MAIhBE,QAAS,CACPT,OADO,WACE,WAEDU,EAAE,UAAO,wCAAP,gBAERC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKR,MAAMW,MAAK,SAACC,GAEpC,GAAIA,EAASP,KAAKQ,QAAS,CAGzB,MAA2BD,EAASP,KAA5BS,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QAGfC,SAASC,OAAT,mBAA8BH,EAA9B,oBAA+C,IAAII,KAAKH,GAAxD,KAEA,EAAKI,QAAQC,KAAK,wBAElB,EAAKpB,KAAKC,SAAW,GACrB,EAAKD,KAAKI,SAAW,GACrB,EAAKiB,MAAM,CACTC,MAAO,eACPC,KAAM,gBClFlB,EAAOC,OAASA,EAED","file":"js/chunk-2d213365.cf26267c.js","sourcesContent":["<template>\n  <div\n    style=\"height: 100vh;\n    background-image: url(https://images.unsplash.com/photo-1519974719765-e6559eac2575?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=750&q=100);\n          background-size: cover;\n          background-position:top center;\n          \"\n  >\n    <div class=\"container\">\n      <form class=\"row justify-content-center\" @submit.prevent=\"signIn\">\n        <!-- @submit.prevent 事件觸發 -->\n        <div class=\"col-md-6 py-5 my-5\">\n          <h1 class=\"h3 mb-3  font-weight-normal\">請先登入</h1>\n          <div class=\"mb-2\">\n            <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n            <input\n              type=\"email\"\n              id=\"inputEmail\"\n              class=\"form-control rounded-pill  shadow-sm mt-2 py-2 px-5\"\n              placeholder=\"Email address\"\n              v-model=\"user.username\"\n              required\n              autofocus\n            />\n          </div>\n          <div class=\"mb-2\">\n            <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n            <input\n              type=\"password\"\n              id=\"inputPassword\"\n              class=\"form-control rounded-pill shadow-sm mt-2 py-2 px-5\"\n              v-model=\"user.password\"\n              placeholder=\"Password\"\n              required\n            />\n          </div>\n\n          <!-- <div class=\"text-end mt-4\">\n            <button class=\"btn btn-lg btn-secondary btn-block\" type=\"submit\">登入</button>\n          </div> -->\n          <div class=\"text-end mt-4\">\n            <button\n              class=\"btn btn-lg btn-outline-light rounded-pill shadow-sm mt-2 py-2 px-5 \"\n              type=\"submit\"\n            >\n              登入\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n  methods: {\n    signIn() {\n      // 環境變數\n      const api = `${process.env.VUE_APP_API}admin/signin`;\n      // 送出 api\n      this.$http.post(api, this.user).then((response) => {\n        // console.log(response.data);\n        if (response.data.success) {\n          // const token = response.data.token;\n          // const expired = response.data.expired;\n          const { token, expired } = response.data;\n          // console.log(token, expired);\n          // 存取 token 以及到期日\n          document.cookie = `hexToken=${token};expires=${new Date(expired)};`;\n          // 登入後直接進入 admin 後台的管理產品列表\n          this.$router.push('/admin/products');\n        } else {\n          this.user.username = '';\n          this.user.password = '';\n          this.$swal({\n            title: '輸入資料有誤，請重新輸入',\n            icon: 'error',\n          });\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=5403a1a5\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}